# Claude Context - AI Todo Manager

## Tech Stack Decisions

### Frontend
- **Framework**: Next.js 14 with App Router
  - Choice reasoning: Modern React patterns, built-in TypeScript support, excellent performance
  - Uses client-side rendering for interactive todo management
- **Styling**: Tailwind CSS + shadcn/ui components
  - Modern utility-first CSS framework with pre-built accessible components
  - Custom design system with CSS variables for theming
- **State Management**: React hooks with custom `useTodos` hook
  - Simple, effective state management for CRUD operations
- **TypeScript**: Full type safety across frontend
- **Icons**: Lucide React for consistent iconography
- **Form Handling**: React Hook Form with Zod validation
- **UI Components**: Radix UI primitives via shadcn/ui

### Backend
- **Framework**: Express.js with TypeScript
  - RESTful API architecture with proper HTTP methods
- **Database**: Supabase PostgreSQL
  - Modern BaaS with real-time capabilities and built-in auth
  - Row Level Security (RLS) policies implemented
- **Validation**: express-validator for API input validation
- **Security**: 
  - Helmet for security headers
  - CORS configuration
  - Rate limiting (100 requests per 15 minutes)
- **Development**: nodemon with ts-node for hot reloading

## Key Architectural Choices

### Database Design
- **todos** table with comprehensive fields:
  - `id` (UUID primary key)
  - `title`, `description` (text content)
  - `completed` (boolean), `status` (enum: todo/in-progress/completed)
  - `priority` (enum: low/medium/high)
  - `category` (string for organization)
  - `due_date` (optional timestamp)
  - `created_at`, `updated_at` (automatic timestamps)

### API Architecture
- RESTful endpoints following standard conventions
- Consistent error handling with proper HTTP status codes
- Input validation with detailed error messages
- Singleton pattern for Supabase service connection
- Automatic database setup with sample data on startup

### Frontend Architecture
- Component-based architecture with clear separation of concerns
- Custom hooks for data fetching and state management
- Responsive design with mobile-first approach
- Dark/light theme support
- Real-time statistics and progress tracking
- Error boundaries and loading states

### Security Considerations
- Environment variables for sensitive configuration
- Rate limiting to prevent abuse
- Input validation and sanitization
- CORS configuration for cross-origin requests
- Helmet for security headers

## Current Project Structure

```
ai-todo-app/
├── backend/
│   ├── database/schema.sql          # Database schema with sample data
│   ├── src/
│   │   ├── controllers/todoController.ts   # CRUD operations
│   │   ├── routes/todos.ts                 # API route definitions
│   │   ├── middleware/validation.ts        # Request validation
│   │   ├── services/
│   │   │   ├── supabaseService.ts         # Database connection singleton
│   │   │   └── databaseSetup.ts           # Auto schema setup
│   │   ├── scripts/setupDatabase.ts       # Manual DB setup script
│   │   ├── types/todo.ts                  # TypeScript interfaces
│   │   └── index.ts                       # Express app configuration
│   └── .env.example                       # Environment template
├── frontend/
│   ├── src/
│   │   ├── app/
│   │   │   ├── page.tsx                   # Main todo interface
│   │   │   └── layout.tsx                 # Root layout with theme
│   │   ├── components/
│   │   │   ├── AddTodoForm.tsx            # Todo creation form
│   │   │   ├── TodoList.tsx               # Todo display/filtering
│   │   │   ├── TodoItem.tsx               # Individual todo component
│   │   │   ├── ThemeProvider.tsx          # Dark/light theme context
│   │   │   ├── ThemeToggle.tsx            # Theme switcher
│   │   │   └── ui/                        # shadcn/ui components
│   │   ├── hooks/useTodos.ts              # Todo state management
│   │   ├── services/api.ts                # API client functions
│   │   ├── types/todo.ts                  # Shared TypeScript types
│   │   └── lib/
│   │       ├── utils.ts                   # Utility functions
│   │       └── sampleData.ts              # Default categories
│   └── .env.local.example                 # Frontend environment template
├── SUPABASE_SETUP.md                      # Database setup guide
└── .claude-context.md                     # This context file
```

## Outstanding TODOs

### Immediate Priorities
- [ ] Add user authentication system (Supabase Auth integration)
- [ ] Implement real-time updates using Supabase subscriptions
- [ ] Add comprehensive error handling and user feedback
- [ ] Set up proper logging system (winston/pino)

### Feature Enhancements
- [ ] AI-powered todo suggestions and categorization
- [ ] Drag-and-drop todo reordering
- [ ] Todo attachments/file uploads
- [ ] Advanced filtering and search capabilities
- [ ] Todo templates and recurring tasks
- [ ] Analytics dashboard with charts
- [ ] Export functionality (CSV, PDF)
- [ ] Collaborative editing features

### Technical Debt
- [ ] Add comprehensive test suite (Jest, React Testing Library)
- [ ] Implement proper CI/CD pipeline
- [ ] Add performance monitoring and analytics
- [ ] Optimize bundle size and implement code splitting
- [ ] Add proper error boundaries throughout the app
- [ ] Implement proper caching strategies
- [ ] Add API documentation (Swagger/OpenAPI)

### DevOps & Deployment
- [ ] Set up production deployment (Vercel + Railway/Heroku)
- [ ] Configure environment-specific settings
- [ ] Set up database migrations system
- [ ] Implement automated backups
- [ ] Add health checks and monitoring
- [ ] Configure proper HTTPS and security headers

### UI/UX Improvements
- [ ] Add keyboard shortcuts for power users
- [ ] Implement better mobile responsiveness
- [ ] Add animations and micro-interactions
- [ ] Improve accessibility (ARIA labels, screen reader support)
- [ ] Add onboarding flow for new users
- [ ] Implement bulk operations (select multiple todos)

## Development Commands

### Backend
```bash
npm run dev          # Start development server
npm run build        # Build for production
npm run start        # Start production server
npm run lint         # Run ESLint
npm run type-check   # Run TypeScript compiler check
npm run setup-db     # Manual database setup
```

### Frontend
```bash
npm run dev          # Start development server
npm run build        # Build for production
npm run start        # Start production server
npm run lint         # Run Next.js linting
npm run type-check   # Run TypeScript compiler check
```

## Environment Setup

1. **Backend**: Copy `backend/.env.example` to `backend/.env` and configure Supabase credentials
2. **Frontend**: Copy `frontend/.env.local.example` to `frontend/.env.local` and set API URL
3. **Database**: Follow `SUPABASE_SETUP.md` for complete database configuration
4. **Development**: Both servers run concurrently (backend on :3001, frontend on :3000)

## Notes
- Project uses TypeScript throughout for type safety
- Shared type definitions between frontend and backend
- Automatic database initialization with sample data
- Responsive design works well on mobile and desktop
- Theme system supports both light and dark modes
- Rate limiting and security middleware configured
- Git repository initialized with proper .gitignore files